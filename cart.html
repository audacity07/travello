<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        *{
            box-sizing: border-box;
            padding: 0%;
            margin: 0%;
        }
        .container{
            width: 80%;
            display: grid;
            grid-template-columns: repeat(4,1fr);
            margin: auto;
            gap: 10px;

        }
        .container img{
            width: 100%;
        }

        .cart{
            width: 80%;
            display: grid;
            grid-template-columns: repeat(4,1fr);
            margin: auto;
            gap: 10px;

        }
        .cart img{
            width: 100%;
        }
        
    </style>
</head>
<body>
    <div class="container"></div>
    <hr>

        <h1 class="total">cart is empty</h1>

        <div class="cart">

        </div>

        <!-- <h1 class="person"></h1>
        <button class="plus">+</button>
        <button class="minus">-</button> -->
    
</body>
</html>
<script>

    let data=[

        {image:"https://lh5.googleusercontent.com/p/AF1QipNEFfrn1k5JSPmvXRugafk3H9AfA2mXXIQncdnh=w204-h114-n-k-no",
        place:"munnar",
        price:2500},

        {image:"https://lh5.googleusercontent.com/p/AF1QipNEhBrVxLTHb4CM3bzMbymPA1ILDadX-9Db93Y=w204-h114-n-k-no",
        place:"hyderabad",
        price:3500},

        {
        image:"https://lh5.googleusercontent.com/p/AF1QipPA-3HE_FRfS90TjTDbdsCYxqW7Q79TM_u_2VU=w204-h114-n-k-no",
        place:"shimla",
        price:4500
        },

        {
            image:"https://lh3.googleusercontent.com/proxy/57wQ7I1rwHCmNS__E0uqQ9YqERmV2pX4sWBCIvpMgbN-Bux7CgkYtyk-QdyGoSNoSXZGUQZOkg7BOHb7waHweFY6ae8PW1lf4My7ZG2ECVLQ_DDggTDxc8JdzQwrvtop2MS3MkEOlelkg4lpQ1nH00khhtdJbPA=w548-h318-n-k-no",
        place:"kodaikanal",
        price:4000
        }
        
]
    let container=document.querySelector(".container");
    let cart=document.querySelector(".cart");
//----------cart local strorage--------------------------------------------
    let cardArr=[];

    let cartLs=localStorage.getItem("cartData");

        
        if(cartLs==null){
        cartArr=[]
        }
        else{
        cartArr=JSON.parse(cartLs);
        }


//display demo destination
  displayData(data)
 
 function displayData(data){
   
    data.forEach((item)=>{
        
        let div1=document.createElement("div");
        let img=document.createElement("img");
        let place=document.createElement("h2");
        let price=document.createElement("p");
        let btn = document.createElement("button");
    
        img.setAttribute("src",item.image);
        place.innerText=item.place;
        price.innerText=item.price;
        btn.innerText="Add to Cart"
//-----add to cart demo---------------
        btn.addEventListener("click",function(){
            item.person=1
            item.tripPrice=item.price
            cartArr.push(item);
            localStorage.setItem("cartData",JSON.stringify(cartArr));
            // JSON.stringify("cartData",cardData);
            displayCart(cartArr)

        })

        div1.append(img,place,price,btn);
        container.append(div1)

    })


 }
//--------------------------------------------
    let total=document.querySelector(".total");
//    let person=document.querySelector(".person");
//     let i=1;
//     total.innerHTML="Total ="+data.price;
//     person.innerHTML="person ="+i;

//    let plus=document.querySelector(".plus").addEventListener("click",function(){
//     i++;
//     total.innerHTML="Total="+(i*data.price);
//     person.innerHTML="person ="+i;
//    })
//    let minus=document.querySelector(".minus").addEventListener("click",function(){
//     i--;
//     total.innerHTML="Total="+(i*data.price);
//     person.innerHTML="person ="+i;
//    })
//------------------------------------

//---------display cart----------------------------
//let totalTrip=0;

displayCart(cartArr)
function displayCart(data){
    cart.innerHTML=""
    let totalTrip=0;
    data.forEach((item)=>{
        
        let div1=document.createElement("div");
        let img=document.createElement("img");
        let place=document.createElement("h2");
        let price=document.createElement("p");
        let trip_total=document.createElement("p");
        let person=document.createElement("p")
        let plus = document.createElement("button");
        let minus = document.createElement("button");
        let remove = document.createElement("button");
    
        img.setAttribute("src",item.image);
        place.innerText=item.place;
        price.innerText="price/person ="+item.price;
        trip_total.innerText="trip cost ="+item.tripPrice
        price.innerText=item.price;
        person.innerText="person ="+item.person;
        remove.innerText="remove"

        plus.innerText="+";
        minus.innerText="-";

        plus.addEventListener("click",function(){

            item.person++;
            item.

            localStorage.setItem("cartData",JSON.stringify(cartArr));
            displayCart(cartArr)

            })




            minus.addEventListener("click",function(){
            if(item.person!=1){
                item.person--;
            
            localStorage.setItem("cartData",JSON.stringify(cartArr));          
            displayCart(cartArr)

            }

            })







        div1.append(img,place,price,trip_total,person,plus,minus,remove)
        cart.append(div1);

        totalTrip+=item.tripPrice
         total.innerHTML="Total ="+totalTrip;

 

    })
    
   // total.innerHTML="Total ="+data.price;

 }

















</script>